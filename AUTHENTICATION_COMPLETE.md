# โ ูุธุงู ุงููุตุงุฏูุฉ ุงูุญูููู - ุฌุงูุฒ

## ๐ ููุฎุต ูุง ุชู ุฅูุฌุงุฒู:

### 1. โ ูุงุนุฏุฉ ุงูุจูุงูุงุช (MongoDB)
- ุชู ุฅูุดุงุก `server/database.ts` ูุน ุฌููุน ุงูุฌุฏุงูู ุงููุทููุจุฉ:
  - **User**: ุงููุณุชุฎุฏููู ุงููุณุฌููู
  - **OTP**: ุฃููุงุฏ ุงูุชุญูู
  - **Conversation**: ุงููุญุงุฏุซุงุช
  - **Message**: ุงูุฑุณุงุฆู
  - **Contact**: ุฌูุงุช ุงูุงุชุตุงู

### 2. โ ูุธุงู ุงููุตุงุฏูุฉ
- ุชู ุฅูุดุงุก `server/auth.ts` ูุน:
  - **sendOTP**: ุฅุฑุณุงู ููุฏ ุงูุชุญูู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  - **verifyOTP**: ุงูุชุญูู ูู ููุฏ ุงูุชุญูู
  - **findUsersByPhoneNumbers**: ุงูุจุญุซ ุนู ุงููุณุชุฎุฏููู ุงููุณุฌููู

### 3. โ API Routes
- `/api/auth/send-otp` - ุฅุฑุณุงู ููุฏ ุงูุชุญูู
- `/api/auth/verify-otp` - ุงูุชุญูู ูู ููุฏ ุงูุชุญูู
- `/api/users/find-by-phones` - ุงูุจุญุซ ุนู ุงููุณุชุฎุฏููู ุงููุณุฌููู

### 4. โ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
- ุชู ุฅูุดุงุก `app/auth/LoginPage.tsx`
- ุชู ุฅูุดุงุก `app/auth/page.tsx`
- ูุงุฌูุฉ ูุณุชุฎุฏู ุฌูููุฉ ูุน ุฏุนู RTL

### 5. โ ุชุญุฏูุซ UserContext
- ุฅุถุงูุฉ ุฏุนู `setUser` ูููุตุงุฏูุฉ ุงูุฌุฏูุฏุฉ

## โ๏ธ ูุง ูุญุชุงุฌ ุฅุนุฏุงุฏ:

### 1. ูุชุบูุฑุงุช ุงูุจูุฆุฉ
ูุฌุจ ุฅุถุงูุฉ ูุฐู ุงููุชุบูุฑุงุช ูู Railway ุฃู `.env.local`:
```env
MONGODB_URI=mongodb://localhost:27017/royal-chat
# ุฃู MongoDB Atlas:
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/royal-chat

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
```

### 2. ูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB
**ุฎูุงุฑ 1: MongoDB Atlas (ููุตู ุจู)**
1. ุฅูุดุงุก ุญุณุงุจ ุนูู [MongoDB Atlas](https://www.mongodb.com/cloud/atlas)
2. ุฅูุดุงุก cluster ุฌุฏูุฏ
3. ุงูุญุตูู ุนูู connection string
4. ุฅุถุงูุชู ุฅูู `MONGODB_URI`

**ุฎูุงุฑ 2: MongoDB ูุญูู**
1. ุชุซุจูุช MongoDB ูุญููุงู
2. ุชุดุบูู MongoDB
3. ุงุณุชุฎุฏุงู `mongodb://localhost:27017/royal-chat`

**ุฎูุงุฑ 3: MongoDB ุนูู Railway**
1. ุฅุถุงูุฉ MongoDB service ูู Railway
2. ูุณุฎ connection string
3. ุฅุถุงูุชู ุฅูู `MONGODB_URI`

### 3. ุฅุนุฏุงุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (SMTP)
**ูู Gmail:**
1. ุชูุนูู "App Passwords" ูู Google Account
2. ุฅูุดุงุก App Password ุฌุฏูุฏ
3. ุงุณุชุฎุฏุงูู ูู `SMTP_PASS`

**ูุฎุฏูุงุช ุฃุฎุฑู:**
- ูููู ุงุณุชุฎุฏุงู ุฃู ุฎุฏูุฉ SMTP (SendGrid, Mailgun, etc.)

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ:

### 1. ุฅุฒุงูุฉ ุงูุจูุงูุงุช ุงูููููุฉ
- [ ] ุฅุฒุงูุฉ `data/mockData.ts` ูู ุงูุงุณุชูุฑุงุฏ
- [ ] ุงุณุชุจุฏุงู ุงูุจูุงูุงุช ุงูููููุฉ ุจุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุชุญุฏูุซ `app/app.tsx` ูุงุณุชุฎุฏุงู ุจูุงูุงุช ุญููููุฉ

### 2. ูุฒุงููุฉ ุฌูุงุช ุงูุงุชุตุงู
- [ ] ุฑุจุท `app/contexts/ContactsContext.tsx` ุจู `/api/users/find-by-phones`
- [ ] ุนุฑุถ ุงููุณุชุฎุฏููู ุงููุณุฌููู ููุท

### 3. ุงุฎุชุจุงุฑ ุงููุธุงู
- [ ] ุงุฎุชุจุงุฑ ุฅุฑุณุงู OTP
- [ ] ุงุฎุชุจุงุฑ ุงูุชุญูู ูู OTP
- [ ] ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู
- [ ] ุงุฎุชุจุงุฑ ูุฒุงููุฉ ุฌูุงุช ุงูุงุชุตุงู

## ๐ง ููููุฉ ุงูุงุณุชุฎุฏุงู:

### 1. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
```bash
# ูู Railwayุ ุฃุถู:
MONGODB_URI=mongodb+srv://...
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
```

### 2. ุชุดุบูู ุงููุดุฑูุน
```bash
npm run dev
```

### 3. ุชุณุฌูู ุงูุฏุฎูู
1. ุงูุชุญ `/auth`
2. ุฃุฏุฎู ุฑูู ุงููุงุชู ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู
3. ุงุณุชูู ููุฏ ุงูุชุญูู ูู ุงูุจุฑูุฏ
4. ุฃุฏุฎู ููุฏ ุงูุชุญูู
5. ุณูุชู ุชุณุฌูู ุงูุฏุฎูู ุชููุงุฆูุงู

## ๐ ุญุงูุฉ ุงููุดุฑูุน:

- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช: ุฌุงูุฒุฉ
- โ ูุธุงู ุงููุตุงุฏูุฉ: ุฌุงูุฒ
- โ ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู: ุฌุงูุฒุฉ
- โ๏ธ ุฅุฒุงูุฉ ุงูุจูุงูุงุช ุงูููููุฉ: ููุฏ ุงูุชูููุฐ
- โ๏ธ ูุฒุงููุฉ ุฌูุงุช ุงูุงุชุตุงู: ููุฏ ุงูุชูููุฐ

## ๐ฏ ุงููุชูุฌุฉ:

ุงูุขู ูุฏูู ูุธุงู ูุตุงุฏูุฉ ุญูููู ูุซู ูุงุชุณุงุจ:
- โ ุชุณุฌูู ุงูุฏุฎูู ุจุฑูู ุงููุงุชู
- โ ุฅุฑุณุงู OTP ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุงูุชุญูู ูู OTP
- โ ุญูุธ ุงููุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุงูุจุญุซ ุนู ุงููุณุชุฎุฏููู ุงููุณุฌููู

