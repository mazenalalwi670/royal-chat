# โ ุงูุชุญูู ุงูููุงุฆู ูู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

## ๐ ููุฎุต ุงููุชุบูุฑุงุช:

### ุงููุชุบูุฑุงุช ุงูููุฌูุฏุฉ (4):

| ุงููุชุบูุฑ | ุงููููุฉ | ุงูุญุงูุฉ | ุงูุงุณุชุฎุฏุงู |
|---------|--------|--------|-----------|
| `ALLOWED_ORIGINS` | `https://royal-chat-production.up.railway.app` | โ ุตุญูุญ | CORS ูู server-custom.mjs |
| `NEXT_PUBLIC_APP_URL` | `https://royal-chat-production.up.railway.app` | โ ุตุญูุญ | ุฑูุงุจุท ุงูุชุทุจูู |
| `NEXT_PUBLIC_WS_URL` | `wss://royal-chat-production.up.railway.app` | โ ุตุญูุญ | WebSocket ูู WebSocketContext.tsx |
| `NODE_ENV` | `production` | โ ุตุญูุญ | ุจูุฆุฉ ุงูุฅูุชุงุฌ |

### ุงููุชุบูุฑุงุช ุงูููููุฏุฉ (1):

| ุงููุชุบูุฑ | ุงููููุฉ ุงููุทููุจุฉ | ุงูุญุงูุฉ | ุงูุชุฃุซูุฑ |
|---------|-----------------|--------|---------|
| `PORT` | `8080` | โ๏ธ ุบูุฑ ูุฑุฆู | ุบูุฑ ูุดููุฉ (ูููุฉ ุงูุชุฑุงุถูุฉ ููุฌูุฏุฉ) |

---

## โ ุงูุชุญูู ูู ุงูููุฏ:

### 1. **server-custom.mjs**:
```javascript
const port = parseInt(process.env.PORT || '8080', 10);
```
- โ ุฅุฐุง ูู ููู `PORT` ููุฌูุฏูุงุ ุณูุณุชุฎุฏู `8080` ุชููุงุฆููุง
- โ **ูุง ูุดููุฉ** ุญุชู ูู ูู ููู ููุฌูุฏูุง

### 2. **WebSocketContext.tsx**:
```javascript
const wsUrl = process.env.NEXT_PUBLIC_WS_URL || 
  (typeof window !== 'undefined' 
    ? (window.location.protocol === 'https:' ? 'wss://' : 'ws://') + window.location.host
    : 'ws://localhost:8080');
```
- โ ูุณุชุฎุฏู `NEXT_PUBLIC_WS_URL` ุฅุฐุง ูุงู ููุฌูุฏูุง โ
- โ ุฅุฐุง ูู ููู ููุฌูุฏูุงุ ูุณุชุฎุฏู `wss://` ุชููุงุฆููุง ูู `window.location`
- โ **ูู ุดูุก ุตุญูุญ**

### 3. **server-custom.mjs - CORS**:
```javascript
const allowedOrigins = process.env.ALLOWED_ORIGINS 
  ? process.env.ALLOWED_ORIGINS.split(',')
  : ["http://localhost:4000", ...];
```
- โ ูุณุชุฎุฏู `ALLOWED_ORIGINS` โ
- โ ููุฌูุฏ ูู ุงููุชุบูุฑุงุช โ

---

## โ ุงููุชูุฌุฉ:

### **ูู ุดูุก ุตุญูุญ!** โ

1. โ **ุฌููุน ุงููุชุบูุฑุงุช ุงููุทููุจุฉ ููุฌูุฏุฉ**
2. โ **ูุง ุชูุฌุฏ ุชูุฑุงุฑุงุช**
3. โ **ุฌููุน ุงูููู ุตุญูุญุฉ**
4. โ **ุงูุจุฑูุชููููุงุช ุตุญูุญุฉ** (HTTPS/WSS)
5. โ **PORT ุบูุฑ ูุดููุฉ** (ูููุฉ ุงูุชุฑุงุถูุฉ ููุฌูุฏุฉ)

---

## ๐ ููุงุญุธุงุช:

### 1. **PORT**:
- โ๏ธ ุบูุฑ ูุฑุฆู ูู ุงูุตูุฑุฉ
- โ ููู ุงูููุฏ ูุณุชุฎุฏู `8080` ููููุฉ ุงูุชุฑุงุถูุฉ
- โ **ูุง ุญุงุฌุฉ ูุฅุถุงูุชู** (ููู ูููู ุฅุถุงูุชู ููุชุฃูุฏ)

### 2. **ุงูุจุฑูุชููููุงุช**:
- โ `https://` ููุชุทุจูู โ
- โ `wss://` ูู WebSocket โ
- โ **ูู ุดูุก ุตุญูุญ**

### 3. **ุงูุฑูุงุจุท**:
- โ ุฌููุน ุงูุฑูุงุจุท ุชุดูุฑ ุฅูู `royal-chat-production.up.railway.app`
- โ **ูุง ุชูุฌุฏ ุฃุฎุทุงุก**

---

## ๐ฏ ุงูุชูุตูุฉ ุงูููุงุฆูุฉ:

**ูู ุดูุก ุฌุงูุฒ!** โ

- โ ูุง ุญุงุฌุฉ ูุชุบููุฑ ุฃู ุดูุก
- โ ุฌููุน ุงููุชุบูุฑุงุช ุตุญูุญุฉ
- โ ุงูุชุทุจูู ุฌุงูุฒ ููุนูู

**ููููู ุงููุชุงุจุนุฉ ูุงูุงุฎุชุจุงุฑ!** ๐

